<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Monthly Budget Tracker</title>
<style>
    body {
        font-family: "Segoe UI", Arial, sans-serif;
        background: #f6f8fa;
        color: #333;
        margin: 0;
        padding: 20px;
    }
    h1 {
        text-align: center;
        color: #2c3e50;
    }
    .container {
        max-width: 950px;
        margin: auto;
        background: #fff;
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .section {
        margin-bottom: 30px;
    }
    label {
        display: block;
        font-weight: bold;
        margin-bottom: 6px;
    }
    input, button {
        padding: 10px;
        width: 100%;
        border: 1px solid #ccc;
        border-radius: 6px;
        margin-bottom: 10px;
        font-size: 15px;
    }
    button {
        background-color: #2c97de;
        color: white;
        cursor: pointer;
        font-weight: bold;
    }
    button:hover {
        background-color: #2479b5;
    }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
    }
    th, td {
        padding: 10px;
        border-bottom: 1px solid #ddd;
        text-align: center;
    }
    th {
        background-color: #2c97de;
        color: white;
    }
    .summary {
        background-color: #ecf0f1;
        padding: 15px;
        border-radius: 8px;
    }
    .highlight {
        font-weight: bold;
        color: #16a085;
    }
    .note {
        background-color: #fef5e7;
        border-left: 5px solid #f5b041;
        padding: 15px;
        border-radius: 8px;
        font-style: italic;
    }
    canvas {
        max-width: 100%;
        height: 300px;
        margin-top: 20px;
    }
    footer {
        text-align: center;
        margin-top: 20px;
        color: #555;
        font-weight: bold;
    }
</style>
</head>
<body>

<h1>ðŸ’° Monthly Budget Tracker</h1>
<div class="container">

    <div class="section">
        <label for="salary">Available Salary / Monthly Income:</label>
        <input type="number" id="salary" placeholder="Enter your available salary for this month">
    </div>

    <div class="section">
        <h2>âž• Add Income</h2>
        <input type="text" id="incomeDesc" placeholder="Income source (e.g. Freelance)">
        <input type="number" id="incomeAmt" placeholder="Amount">
        <button onclick="addIncome()">Add Income</button>

        <table id="incomeTable">
            <thead>
                <tr><th>Description</th><th>Amount</th></tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <div class="section">
        <h2>ðŸ’¸ Add Expense</h2>
        <input type="text" id="expenseCat" placeholder="Category (e.g. Food, Rent)">
        <input type="number" id="plannedAmt" placeholder="Planned Budget">
        <input type="number" id="spentAmt" placeholder="Actual Spend">
        <button onclick="addExpense()">Add Expense</button>

        <table id="expenseTable">
            <thead>
                <tr>
                    <th>Category</th>
                    <th>Planned Budget</th>
                    <th>Actual Spend</th>
                    <th>Remaining</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <div class="section summary">
        <h2>ðŸ“Š Summary</h2>
        <p><strong>Total Income:</strong> â‚¹<span id="totalIncome">0</span></p>
        <p><strong>Total Expenses:</strong> â‚¹<span id="totalExpenses">0</span></p>
        <p><strong>Net Income (Income - Expenses):</strong> â‚¹<span class="highlight" id="netIncome">0</span></p>
        <p><strong>Remaining Budget:</strong> â‚¹<span id="remainingBudget">0</span></p>
    </div>

    <div class="section">
        <h2>ðŸ“ˆ Expense Chart</h2>
        <canvas id="expenseChart"></canvas>
    </div>

    <div class="section note" id="budgetNote">
        ðŸ’¡ Keep track of your expenses regularly and stick to your planned budget. 
        Small savings today build financial strength tomorrow!
    </div>

</div>

<footer>âœ¨ Designed by <span style="color:#2c97de;">Ananda Varshini</span></footer>

<!-- Chart.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
    let incomes = [];
    let expenses = [];
    let chart;

    function addIncome() {
        const desc = document.getElementById("incomeDesc").value.trim();
        const amt = parseFloat(document.getElementById("incomeAmt").value);
        if (desc && amt > 0) {
            incomes.push({ desc, amt });
            document.getElementById("incomeDesc").value = "";
            document.getElementById("incomeAmt").value = "";
            updateIncomeTable();
            updateSummary();
        }
    }

    function updateIncomeTable() {
        const tbody = document.getElementById("incomeTable").querySelector("tbody");
        tbody.innerHTML = "";
        incomes.forEach(i => {
            tbody.innerHTML += `<tr><td>${i.desc}</td><td>â‚¹${i.amt.toFixed(2)}</td></tr>`;
        });
    }

    function addExpense() {
        const cat = document.getElementById("expenseCat").value.trim();
        const planned = parseFloat(document.getElementById("plannedAmt").value);
        const spent = parseFloat(document.getElementById("spentAmt").value);
        if (cat && planned >= 0 && spent >= 0) {
            expenses.push({ cat, planned, spent });
            document.getElementById("expenseCat").value = "";
            document.getElementById("plannedAmt").value = "";
            document.getElementById("spentAmt").value = "";
            updateExpenseTable();
            updateSummary();
            updateChart();
        }
    }

    function updateExpenseTable() {
        const tbody = document.getElementById("expenseTable").querySelector("tbody");
        tbody.innerHTML = "";
        expenses.forEach(e => {
            const remaining = e.planned - e.spent;
            const color = remaining >= 0 ? "#27ae60" : "#c0392b";
            tbody.innerHTML += `
                <tr>
                    <td>${e.cat}</td>
                    <td>â‚¹${e.planned.toFixed(2)}</td>
                    <td>â‚¹${e.spent.toFixed(2)}</td>
                    <td style="color:${color}">â‚¹${remaining.toFixed(2)}</td>
                </tr>`;
        });
    }

    function updateSummary() {
        const salary = parseFloat(document.getElementById("salary").value) || 0;
        const totalIncome = incomes.reduce((a, b) => a + b.amt, 0) + salary;
        const totalExpenses = expenses.reduce((a, b) => a + b.spent, 0);
        const net = totalIncome - totalExpenses;
        const remaining = expenses.reduce((a, b) => a + (b.planned - b.spent), 0);

        document.getElementById("totalIncome").textContent = totalIncome.toFixed(2);
        document.getElementById("totalExpenses").textContent = totalExpenses.toFixed(2);
        document.getElementById("netIncome").textContent = net.toFixed(2);
        document.getElementById("remainingBudget").textContent = remaining.toFixed(2);

        const note = document.getElementById("budgetNote");
        if (net < 0) {
            note.innerHTML = "âš ï¸ You're overspending! Try to cut down on non-essential expenses and rebalance your budget.";
        } else if (remaining < 0) {
            note.innerHTML = "âš ï¸ Youâ€™ve exceeded your planned budgets! Review and adjust your categories.";
        } else if (net > 0 && remaining > 0) {
            note.innerHTML = "âœ… Great job! You're within your budget. Consider saving or investing the remaining balance.";
        } else {
            note.innerHTML = "ðŸ’¡ Keep tracking your expenses and stay on top of your finances!";
        }
    }

    function updateChart() {
        const ctx = document.getElementById('expenseChart').getContext('2d');
        const labels = expenses.map(e => e.cat);
        const data = expenses.map(e => e.spent);

        if (chart) chart.destroy();
        chart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Expense Distribution',
                    data: data,
                    backgroundColor: [
                        '#3498db','#e74c3c','#f1c40f','#2ecc71','#9b59b6','#e67e22','#1abc9c'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { position: 'bottom' },
                    title: { display: true, text: 'Expenses by Category' }
                }
            }
        });
    }
</script>

</body>
</html>
